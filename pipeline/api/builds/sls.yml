list_builds:
  handler: builds/list_builds.main
  description: Get latest builds
  runtime: python3.8
  timeout: 10
  memorySize: 256
  environment:
    POWERTOOLS_SERVICE_NAME: Klayers.api
  iamRoleStatementsName: ${self:provider.stage}-api-lst-bld
  iamRoleStatements:
  - Effect: Allow
    Action:
    - dynamodb:Query
    Resource: ${self:custom.dbArn}
  layers:
    - arn:aws:lambda:${self:provider.region}:770693421928:layer:Klayers-python38-aws-lambda-powertools:${self:custom.awsLambdaPowertoolsVersion}
  events:
    - httpApi: 'GET /api/v1/builds/latest'